版本：4.1
1、把字库生成器整合进了软件中，所以数据库的结构有了变化。请大家先备份原来的数据！然后再导入系统自带的数据库！
2、数据文件的编写及所谓“二级替换”的内容，请参看帮助文件！

版本：4.02
1、紧急修复因兼容性问题造成的问题

版本：4.01
1、紧急修复在一些网面输入框内无法输入的问题

版本:4.0(重大更新)
1、重构快捷键系统，新增了上移一行、下移一行、移到行头、移到行尾、删除当前行的功能。具体参看后面快捷键一节！
2、修复了使用本输入法后不能设置“长按快捷键”的问题
3、修复了在多行文本编辑中，在下一行开头输入后，会删掉上一条的回车，导致两条合成一条的问题
4、修复了有时状态栏上的图标闪烁的问题

版本:3.951_build55
1、帮助中增加了视频说明的链接，并且文本可复制了

版本：3.95_build54
更新列表：
1、大幅提高了词库导入导出的速度

版本：3.941_build53
更新列表：
1、解决了某些输入框按回车键后不执行默认操作的问题

版本：3.94_build44
更新列表：
1、改进了文本选择的逻辑，改正了不能“往前选”和“选到头”的错误
2、扩展了UNDO的功能，现在所有删除文本的地方都可以用UNDO恢复
3、改正了本说明文档中的若干错误。

十、问与答
1、如何安装设置
答：安装方面跟其他输入法是一样的！设置方面，打开软件，然后按中间的按纽导入系统自带的词库即可使用了！更高级的设置请往下看！
2、在时候输入内容时，应用界面跳来跳去，或者乱滚动，怎么办？
答：是组件之间的焦点切换造成的，可能是系统的原因，也可以是应用的原因。只需要输入之前点击一下输入框就可以“定住"了。
3、如何调出软键盘？
答：本输入法只为实体键盘机设计，没有软键盘。目前有实体键盘的好像只有黑莓的Priv和Keyone!
4、有没有视频说明？
答：输入法安装及使用视频：
5、如何获得源代码
答：已经开源了，在https://github.com/queshw/AutoTextInputMethod

帮助

背景知识
一、源起

从黑莓老ＯＳ开始，我就一直在使用自动图文集（autotext）五笔输入法，因为我是南方人，拼音不灵。后来到了OS6以后，这个功能更名为单词替换，其实都是一个意思。可惜的是到了ＢＢ１０系统上，这个功能被阄割得不成样子了，多次向黑莓公司反应也没有改善。现在最新版的BB10系统中，这个功能不完善，替换条数有限制，而且不能导入导出:<。那既然现在都用安卓了，何不自己开发一个输入法，实现全功能的“单词替换”功能呢？下定决心，从头学习Android开发，于是就有了这个软件。向老黑莓致敬，向三叶莓致敬！

二、初步原理

单词替换的原理非常简单，就是输入字母后，再输入空格就把光标到前面第一个空格之间的东西替换成别的东西。这“别的东西”当然是可以你自己设定的。黑莓开发这个功能只是为了自动纠错和简写，比如英文中常输入cant，再按空格后可自动更正成can't；输入mns，再输入空格的时候就自动替换成minutes，平淡无奇是不是？但是中国有牛人三叶莓，使用这个功能开发出神一般存在的中文输入法。其实中文输入法的本质也就是输入几个字母，然后替换成对应的中文字。

由于替换的词条可以自已定义，所以这种原理支持几乎所有的输入法编码，以最简单的拼音输入法为例(当然这种最原始的拼音输入法效率很低)，设置以下的词条条目：
wo　　我
ni　　你
这时如果在一个文本输入框中输入wo，然后再输入空格，则之前的wo就被自动替换成“我”。输入ni，再输入空格，则ni就被替换成“你”了。

既然可以把wo设置成“我”，当然也可以设置成别的，比如：
wo　　我在这里很好，你不用担心！
这时输入wo后，再输入空格，则wo就被替换成了“我在这里很好，你不用担心！”，是不是很方便呢？这只是小菜一碟啦，后面还有更厉害的。

再假设我们设置的替换条目如下：
wo　　我
ai　　爱
ni　　你
要输入中文“我爱你”，自然就会想到输入"wo空格ai空格ni空格“，但是很不幸最后的结果不是"我爱你"，而是“我　爱　你　”——每个字后面都有一个空格，这当然不行。我们需要在每次替换的时候，先往前删除一个空格，这正好就是％b宏的功能。所以应该这么设置：
wo　　%b我
ai　　%b爱
ni　　%b你
这时就可以如愿地说“我爱你”了。还没完，下面还有更更厉害的，往下看！

三、宏命令

宏命令那么好用，当然不会只有一个，其实有七个（还可以加！）：
%b :往前删除一个字符
%B :往后删除一个字符
%d :显示日期，格式 2015-10-21 
%t :显示时间，格式 07:08
%D :显示长日期，带时间，效果相当于 “%d %t”
%w :删除刚刚替换上去的内容
%% :显示%本身
其中最最重要的是%b和%B，%b前面已经说到了妙用在于删除前面的空格，%B的妙用在何处呢？你能猜到吗？系统自带的字库中还有如下的条目，想想都实现什么功能呢？
$,%b%b
$$,%b%b%b
$$$,%b%b%b%b
$$$$,%b%b%b%b%b
$ld,%b%d
$ldd,%b%D
$lt,%b%t
zs,%b%%

四、重码的选择

拼音中wo可以代表“我”，当然也可以代表“喔”，也就是重码，怎么办呢？这一点，我不得不佩服中国的神人三叶莓啊！他的天才思路是这么解决的：
wo　　1我2喔%B
1我2喔a　　%b
1我2喔　　%b我
1我2喔e　　%b喔
来详细看一下选字的过程：
输入wo再按空格，则得到“1我2喔”，注意这时“喔”后面是没有空格的，这个空格被宏“%B”删掉了，这就是%B的妙用！再输入一个空格，按照上面的替换条目，“1我2喔”将被替换成“我”。同样的如果输入“e”（黑莓键盘上的数字2对应的字母）再按空格，则可得到“喔”，这样就完美地解决重码选字问题，是不是天才的思路？！更进一步地，如果输入“a”，则取消当前的输入，重新来！如果重码超过了9个，还可以翻页，只要不断按空格就可以了，不过这时选第一个备选项的时候要输入“w”了，想想为什么呢？（因为空格已经用来翻页了，就不能再用来选字了）

五、英文输入

当然有时候就是想输入英文，那也没有关系，因为还有反向替换功能。假设替换条目如下：
wo　　%b我
这时想输入英文字母“wo”表示感叹，先输入“wo”再按空格。按照替换规则，“wo”被替换成了“我”，没关系，再按一下删除键，这时并不是删除一个字而是触发反向替换，“我”又变成了“wo”，这时再按空格就不会再触发替换了，从而可以实现中英文的无缝输入，完全不用切换哦。我不得不感叹当初设计单词替换功能的设计师考虑周到！相比之下，黑莓10系统中的单词替换功能就是渣！当然，还有另外一种方法，就是长按一个键，这个字母就会自动变成大写的，这时再往后输入其他字母再按空格也不会触发替换了。也就是说这个输入法是大小写敏感的！

当然这种方式只适合少量的英文输入，如果要大段输入英文，每次都这么操作，很烦人，解决办法也很简单，你想到了吗？（答案看最后！）

使用这种原理进行中文输入，有三大优点：
１、替换条目是自设的，可以非常灵活，可同时支持多种编码，完全支持自创编码。比如可以把自己的地址设成一个条目，按几个字母加空格就可以输入地址。
２、这种机制支持宏，比如可设置“%d”代表当前日期等。
３、我最看重的好处就是：可以实现中英文无缝输入。配合快捷键，手指不用离开键盘，眼睛不用在输入法和输入框中间换来换去，实现如飞般的输入体验。
4、本输入法较适合于五笔这种重码率较低的编码。拼音这种重码率高的编码，在商业输入法中一般采用智能记忆，动态调整备选秩序，云更新词库等手段来提高命中率，这些手段开发复杂，本输入法没有。所以这个输入法中自带的“五笔拼音”这个词库中，拼音都只是单字，用来在五笔实在打不出来的时候应急的，就像电脑里一般都会安装一个全拼输入法一样，它的字比较全。拼音的编码都是在拼音后面加上一个“$”组成的，比如“果”的编码是"guo$"。

六、符号的输入

有了替换，符号输入不是问题，只要设好替换条目就是了。在软件自带的五笔加拼音编码中，符号的定义是：
$p,%b　　
$s,%b§
z$,%b￥
z$$,%b$
z0,%b=
z00,%b0
za,%b》
zaa,%b*
zb,%b！
zbb,%b!
zc,%b】
zcc,%b9
zd,%b‘
zdd,%b5
ze,%b<
zee,%b2
zf,%b“
zff,%b6
zg,%b……
zgg,%b/
zh,%b：
zhh,%b:
zi,%b－
zii,%b-
zj,%b；
zjj,%b;
zk,%b’
zkk,%b#SINGLE_QUOTATION#
zl,%b”
zll,%b"
zm,%b。
zmm,%b.
zn,%b，
znn,%b#COMMA#
zo,%b、
zoo,%b+
zp,%b·
zpp,%b@
zq,%b《
zqq,%b#SHARP#
zr,%b>
zrr,%b3
zs,%b%%
zss,%b4
zt,%b（
ztt,%b(
zu,%b──
zuu,%b_
zv,%b？
zvv,%b?
zw,%b｜
zww,%b1
zx,%b【
zxx,%b8
zy,%b）
zyy,%b)
zz,%b&
zzz,%b7
zfh,·,℃,℉,＋,－,×,÷,☆,★,〇,○,●,◎,◇,◆,①,②,③,④,⑤,⑥,⑦,⑧,⑨,⑩,卍,⊙,∫,∮,≡,≌,≈,∽,∝,≠,№,≮,≯,≤,≥,∞,¤,∵,∴,∷,㎎,㎏,㎜,㎝,㎞,㎡,㏄,㏑,㏒,㏕,℡,‰,♂,♀,ㄍ,ㄧ,±,∧,∨,∑,∏,∪,∩,∈,√,⊥,∥,∠,⌒
符号看起来很多，不好记，其实是有规律的。z加上对应的字母，就是对应的中文符号。比如：
zm　　。
z加上两个对应的字母，就是对应的英文符号。比如：
zmm　　.
剩下的几个，只好记一记了！最后一个条目是生僻符号集合，“zfh”表示“字符号”，你就往后翻页吧，有好多奇奇怪怪的符号！

七、快捷键

黑莓的输入法，怎么能没有快捷键呢？Autotext输入法设置了很多快捷键，支持的快捷键如下（左shift键当作ctrl键来用）：
//经典的windows快捷键
C-c　复制
C-v　粘贴
C-x　剪切
C-z UNDO
//选择系的快捷键，认真核对黑莓键盘上的位置，你会有新发现的，在网页中不可用，我还没有找到办法来实现，因为它的机制与正常的输入框不一样。
C-s 进入选择模式，或者退出选择模式
C-a　全选
C-h 选行
在选择模式下，注意这里的行是指以换行符（\n）分隔的行，不是自动折叠出来的行：
	a　全选
	h 选行
	i 往上选一行
	k 往下选一行
	j 往前选一个字符
	l 往后选一个字符
	u 选到行头
	o 选到行尾
	y 选到头
	p 选到尾
//移动系的快捷键，可大大提高编辑效率
C-i 往上
C-k 往下
C-j 往前
C-l 往后
C-u 到行头
C-o 到行尾
C-y 到头
C-p 到尾
//删除系的快捷键，嗯？怎么没有往前删除一个字符的快捷键呢？你说呢！
C-d　删除所有内容
C-b　删到最开头
C-m　删行

八、其他
有个小技巧，五笔中没有以z开头的编码，所以在使用五笔编码时可以用来自定义，而不用担心与五笔编码重码。此外，黑莓键盘上还有一个$键，也可以用来自定义编码。软件自带词库中，输入拼音最后再加上$，即表示是拼音编码，有时候真的忘了一个字五笔怎么打，可以用来救急。拼音的重码很多，可以直接按空格翻页，按0加空格往回翻页。

再来回答上面提出的全英文输入的问题。答案就是：只要建一个空字库就可以了。因为没有字库，所有输入都不会发生替换，也就是全英文输入了。当然，为了方便，我们还是可以设置符号、日期、某些自动更正的替换！比如：
$lt	%t
cant	can't
看到了吗？这里设置的替换条目没有加上%b和%B的宏命令，相信通篇看完这篇文章的人已经有答案了，因为英文单词的前后本来就需要空格的。

九、联系方式
EMAIL：queshw@outlook.com


